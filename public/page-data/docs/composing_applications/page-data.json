{"componentChunkName":"component---src-templates-doc-js","path":"/docs/composing_applications","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Build your own IDE/Tool"},"html":"<h1 id=\"构建自己的-ide-工具\" style=\"position:relative;\"><a href=\"#%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84-ide-%E5%B7%A5%E5%85%B7\" aria-label=\"构建自己的 ide 工具 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>构建自己的 IDE 工具</h1>\n<p>本教程将带你了解如何基于 Theia 构建自己的应用。内容将演示如何在应用中配置已有或新的 Theia 扩展，以及你想默认集成进去的 VS Code 扩展。如果还不熟悉 <a href=\"https://theia-ide.org/docs/extensions/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Theia 的扩展机制</a> ，请先熟悉一下。</p>\n<p>本教程讲述了构建基于 Theia 的手动步骤，有以下两种方式可以跳过手动设置：</p>\n<ul>\n<li><a href=\"https://github.com/eclipse-theia/generator-theia-extension\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Theia Extension Yeoman generator</a>: 用于生成基于 Theia 的扩展示例。</li>\n<li><a href=\"https://theia-ide.org/docs/blueprint_download/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Theia Blueprint</a>: 用于创建基于 Theia 的桌面应用的仓库模板。</li>\n</ul>\n<p>我们仍然建议你先阅读 Theia 教程，它可以让你了解基于 Theia 的项目的结构。</p>\n<h2 id=\"要求\" style=\"position:relative;\"><a href=\"#%E8%A6%81%E6%B1%82\" aria-label=\"要求 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>要求</h2>\n<p>前提条件的详细列表位于 Theia 仓库中：</p>\n<ul>\n<li><a href=\"https://github.com/eclipse-theia/theia/blob/master/doc/Developing.md#prerequisites\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">前提条件</a></li>\n</ul>\n<h2 id=\"步骤\" style=\"position:relative;\"><a href=\"#%E6%AD%A5%E9%AA%A4\" aria-label=\"步骤 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>步骤</h2>\n<p>创建空文件夹，并进入：\nmkdir my-app\ncd my-app</p>\n<p>文件夹中创建 <code class=\"language-text\">package.json</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"private\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@theia/callhierarchy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/file-search\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/git\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/markers\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/messages\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/mini-browser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/navigator\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/outline-view\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/plugin-ext-vscode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/preferences\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/preview\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/search-in-workspace\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/terminal\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@theia/cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>总之，Theia 应用和扩展是一个个 <a href=\"https://nodesource.com/blog/the-basics-of-package-json-in-node-js-and-npm/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Node.js 包</a>。 每个包都有“package.json”文件，用于显示包的元信息，如<code class=\"language-text\">name</code>、<code class=\"language-text\">version</code>、运行时和构建时间依赖等等。</p>\n<p>来看一下创建好的包：</p>\n<ul>\n<li>\n<p>它的 <code class=\"language-text\">name</code> 和 <code class=\"language-text\">version</code> 被省略，因为我们不需要将它用作依赖项，并且它被标记为 <code class=\"language-text\">private</code>，因为它不会单独作为 Node.js 包发布。</p>\n<ul>\n<li>我们已将所需的扩展列为运行时依赖项，比如： <code class=\"language-text\">@theia/navigator</code>。</li>\n<li>有的扩展需要安装额外的工具，比如： <a href=\"https://www.npmjs.com/package/@theia/python\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@theia/python</a> 它需要安装\n<a href=\"https://github.com/palantir/python-language-server\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the Python Language Server</a>。在这种情况下，需要查阅相应的扩展文档。</li>\n<li><a href=\"https://www.npmjs.com/search?q=keywords:theia-extension\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">点击这里</a> 查看所有已发布扩展。</li>\n<li>我们已将 <a href=\"https://www.npmjs.com/package/@theia/cli\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@theia/cli</a> 作为构建依赖。它作为构建和运行应用的脚本命令。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"使用-vs-code-扩展\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8-vs-code-%E6%89%A9%E5%B1%95\" aria-label=\"使用 vs code 扩展 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用 VS Code 扩展</h2>\n<p>作为应用的一部分，还可以使用（和打包）VS Code 扩展。\n<a href=\"https://github.com/eclipse-theia/theia/wiki/Consuming-Builtin-and-External-VS-Code-Extensions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">这里提供</a> 提供一个教程，用于指导\n如何在 <code class=\"language-text\">package.json</code> 中配置VS Code 扩展。</p>\n<p>以下面 <code class=\"language-text\">package.json</code> 为例:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"private\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@theia/callhierarchy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/file-search\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/git\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/markers\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/messages\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/navigator\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/outline-view\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/plugin-ext-vscode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/preferences\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/preview\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/search-in-workspace\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/terminal\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@theia/vsx-registry\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@theia/cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prepare\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"yarn run clean &amp;&amp; yarn build &amp;&amp; yarn run download:plugins\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"clean\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"theia clean\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"theia build --mode development\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"theia start --plugins=local-dir:plugins\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"download:plugins\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"theia download:plugins\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"theiaPluginsDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"plugins\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"theiaPlugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"vscode-builtin-extensions-pack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://open-vsx.org/api/eclipse-theia/builtin-extension-pack/1.50.1/file/eclipse-theia.builtin-extension-pack-1.50.1.vsix\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"theiaPluginsExcludeIds\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"vscode.extension-editing\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"vscode.git\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"vscode.git-ui\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"vscode.github\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"vscode.markdown-language-features\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"vscode.microsoft-authentication\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>以下属性用于配置内置插件（集成扩展）：</p>\n<ul>\n<li><code class=\"language-text\">theiaPluginsDir</code>：配置插件的相对路径</li>\n<li><code class=\"language-text\">theiaPlugins</code>：配置要下载的插件集合（单个插件或扩展包），可以指向任何有效的下载地址（如：Open VSX、Github Releases 等）</li>\n<li><code class=\"language-text\">theiaPluginsExcludeIds</code>：解析扩展包时要排除的插件<code class=\"language-text\">ids</code>列表</li>\n</ul>\n<h2 id=\"构建\" style=\"position:relative;\"><a href=\"#%E6%9E%84%E5%BB%BA\" aria-label=\"构建 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>构建</h2>\n<p>首先，安装依赖：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn</code></pre></div>\n<p>然后，使用 Theia CLI 构建应用：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn theia build</code></pre></div>\n<p><code class=\"language-text\">yarn</code> 作为 <code class=\"language-text\">theia</code> 的执行入口由 <code class=\"language-text\">@theia/cli</code> 提供，然后调用 <code class=\"language-text\">build</code> 命令。\n这可能需要一点时间，因为默认情况下应用是在生产模式下构建的，要执行混淆和压缩。</p>\n<h2 id=\"启动\" style=\"position:relative;\"><a href=\"#%E5%90%AF%E5%8A%A8\" aria-label=\"启动 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>启动</h2>\n<p>构建完成后，启动应用：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn theia start --plugins=local-dir:plugins</code></pre></div>\n<p>也可使用 <code class=\"language-text\">package.json</code> 中的 <code class=\"language-text\">start</code> 命令：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn start</code></pre></div>\n<p>你可以指定一个工作区的路径作为第一个参数，其中 <code class=\"language-text\">--hostname</code>、<code class=\"language-text\">--port</code> 选项用于在指定的网络和端口上部署应用。\n例如 在所有网段和端口<code class=\"language-text\">8080</code>上打开<code class=\"language-text\">/workspace</code>：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn start /my-workspace --hostname 0.0.0.0 --port 8080</code></pre></div>\n<p>在终端中，你应该能看到 Theia 应用已启动监听：</p>\n<img class=\"doc-image\" src=\"/docs-terminal.png\" alt=\"Terminal\" style=\"max-width: 750px\">\n<p>即可在浏览器中输入终端打印的地址来打开应用程序。</p>\n<h2 id=\"常见问题\" style=\"position:relative;\"><a href=\"#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98\" aria-label=\"常见问题 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>常见问题</h2>\n<h3 id=\"插件未找到\" style=\"position:relative;\"><a href=\"#%E6%8F%92%E4%BB%B6%E6%9C%AA%E6%89%BE%E5%88%B0\" aria-label=\"插件未找到 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>插件未找到</h3>\n<p>如果没有可用的插件地址，可以通过配置高速 Theia 在哪里可以获取到已下载的插件。\n上面的示例，在 <code class=\"language-text\">start</code> 命令中设置了 <code class=\"language-text\">--plugins</code> 参数的作用即是如此。\n如果要直接运行 <code class=\"language-text\">theia start</code>，你可以设置一个环境变量来实现相同的目的：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export THEIA_DEFAULT_PLUGINS=local-dir:plugins</code></pre></div>\n<h3 id=\"由代理构建本地依赖\" style=\"position:relative;\"><a href=\"#%E7%94%B1%E4%BB%A3%E7%90%86%E6%9E%84%E5%BB%BA%E6%9C%AC%E5%9C%B0%E4%BE%9D%E8%B5%96\" aria-label=\"由代理构建本地依赖 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>由代理构建本地依赖</h3>\n<p>如果你用代理执行 <code class=\"language-text\">yarn</code> 命令，可能会在构建后期遇到构建本地依赖项（如 <code class=\"language-text\">oniguruma</code>）的问题，并有以下报错信息：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[4/4] Building fresh packages...\n[1/9]  XXXXX\n[2/9]  XXXXX\n[3/9]  XXXXX\n[4/9]  XXXXX\nerror /theiaide/node_modules/XXXXX: Command failed.\nExit code: 1\nCommand: node-gyp rebuild\nArguments:\nDirectory: /theiaide/node_modules/XXXXX\nOutput:\ngyp info it worked if it ends with ok\ngyp info using node-gyp@3.8.0\ngyp info using node@8.15.0 | linux | x64\ngyp http GET https://nodejs.org/download/release/v8.15.0/node-v8.15.0-headers.tar.gz\ngyp WARN install got an error, rolling back install\ngyp ERR! configure error\ngyp ERR! stack Error: read ECONNRESET\ngyp ERR! stack at TLSWrap.onread (net.js:622:25)\ngyp ERR! System Linux 3.10.0-862.11.6.el7.x86_64\ngyp ERR! command \"/usr/bin/node\" \"/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /theiaide/node_modules/XXXXX\ngyp ERR! node -v v8.15.0</code></pre></div>\n<p>这是因为 node-gyp 不依赖系统的 NPM 代理设置。在这种情况下，需使用错误堆栈中的链接下载<code class=\"language-text\">node-headers</code>文件。\n（如上面的示例中的 <code class=\"language-text\">https://nodejs.org/download/release/v8.15.0/node-v8.15.0-headers.tar.gz</code>）并使用以下命令运行构建：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> npm_config_tarball=/path/to/node-v8.15.0-headers.tar.gz yarn install</code></pre></div>","fields":{"slug":"composing_applications"}}},"pageContext":{"slug":"composing_applications"}},"staticQueryHashes":["2468095761"]}